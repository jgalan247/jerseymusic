# .env.example - Copy to .env and fill in your values

# Django Settings
SECRET_KEY=your-very-secret-key-change-this-in-production
DEBUG=True
LOCAL_TEST=True  # Use SQLite for local development (set to False for production)
ALLOWED_HOSTS=localhost,127.0.0.1

# Database
POSTGRES_DB=jersey_artwork
POSTGRES_USER=jersey
POSTGRES_PASSWORD=secret
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432

# ============================================
# PAY-PER-EVENT PRICING CONFIGURATION
# ============================================
# Platform uses tier-based pricing: Organizers pay a platform fee per ticket sold
# Pricing stops at 500 capacity (Tier 5)
# For events >500 capacity, organizers contact admin@coderra.je for custom pricing

# Currency
PLATFORM_CURRENCY=GBP

# Platform Fees Per Tier (in GBP - what organizer pays to platform per ticket)
TIER_1_CAPACITY=50
TIER_1_FEE=0.50

TIER_2_CAPACITY=100
TIER_2_FEE=0.45

TIER_3_CAPACITY=250
TIER_3_FEE=0.40

TIER_4_CAPACITY=400
TIER_4_FEE=0.35

TIER_5_CAPACITY=500
TIER_5_FEE=0.30

# Maximum capacity supported by automatic pricing
MAX_AUTO_CAPACITY=500

# Contact email for custom pricing (events >500)
CUSTOM_PRICING_EMAIL=admin@coderra.je

# Payment Processing Rate (SumUp charges 1.69%)
SUMUP_PROCESSING_RATE=0.0169

# ============================================
# PAYMENT CONFIGURATION
# ============================================
# Payment provider: 'sumup', 'stripe', or 'citypay'
PAYMENT_PROVIDER=sumup

# SumUp Settings (for event ticket purchases)
# Cleaned configuration - single API URL (BASE_URL derived automatically)
SUMUP_API_URL=https://api.sumup.com/v0.1
SUMUP_CLIENT_ID=cc_classic_7MYt7JuELKZUqp4FXOjbga44CIS0v
SUMUP_CLIENT_SECRET=c_sk_classic_VAVIadfYRlm3ZkzEC6YU5TYVNWf39VeZdEUA6RnfW7E7DwEcu6
SUMUP_MERCHANT_CODE=your_merchant_code
SUMUP_ACCESS_TOKEN=your_access_token
SUMUP_API_KEY=your_api_key
SUMUP_MERCHANT_ID=your_merchant_id
SUMUP_REDIRECT_URI=https://yourdomain.je/payments/sumup/callback/
SUMUP_SUCCESS_URL=/payments/success/
SUMUP_FAIL_URL=/payments/fail/

# CityPay Settings (alternative for subscriptions)
CITYPAY_BASE_URL=https://api.citypay.com
CITYPAY_MERCHANT_ID=your_citypay_merchant_id
CITYPAY_LICENCE=your_citypay_licence_key

# ============================================
# EMAIL CONFIGURATION
# ============================================
# Use MailHog in development (True/False)
USE_MAILHOG=True

# Production email settings (Google Workspace)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@coderra.je
EMAIL_HOST_PASSWORD=your-app-specific-password  # Not your regular password!

# ============================================
# HOW TO CHANGE PRICING
# ============================================
# 1. Edit the tier fees above (e.g., change TIER_1_FEE from 0.50 to 0.60)
# 2. Restart your Django server
# 3. New events will use the new pricing
# 4. Existing events keep their original pricing
#
# You can change pricing anytime without touching code!
#
# PRICING EXAMPLE:
# Event with 75 tickets @ £10 each = Tier 2 (up to 100 capacity)
# - Platform fee per ticket: £0.45
# - Organizer receives: £9.55 per ticket (if they absorb processing fee)
# - Total to organizer: £716.25 (75 × £9.55)
# - Platform receives: £33.75 (75 × £0.45)