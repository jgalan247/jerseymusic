# Supervisor configuration for Django-Q cluster
# Copy to: /etc/supervisor/conf.d/jerseyevents_django_q.conf
# Then run: sudo supervisorctl reread && sudo supervisorctl update

[program:jerseyevents_django_q]
command=/Users/josegalan/Documents/jersey_music/venv/bin/python /Users/josegalan/Documents/jersey_music/manage.py qcluster
directory=/Users/josegalan/Documents/jersey_music
user=josegalan
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/Users/josegalan/Documents/jersey_music/logs/django_q.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=10
stderr_logfile=/Users/josegalan/Documents/jersey_music/logs/django_q_error.log
stderr_logfile_maxbytes=10MB
stderr_logfile_backups=10
environment=DJANGO_SETTINGS_MODULE="events.settings",PATH="/Users/josegalan/Documents/jersey_music/venv/bin:%(ENV_PATH)s"
stopwaitsecs=60
stopsignal=TERM

# Deployment Instructions:
# ========================
#
# 1. Copy this file to supervisor config directory:
#    sudo cp supervisor_django_q.conf /etc/supervisor/conf.d/jerseyevents_django_q.conf
#
# 2. Update paths in the file if needed:
#    sudo nano /etc/supervisor/conf.d/jerseyevents_django_q.conf
#
# 3. Reload supervisor configuration:
#    sudo supervisorctl reread
#    sudo supervisorctl update
#
# 4. Start the service:
#    sudo supervisorctl start jerseyevents_django_q
#
# 5. Check status:
#    sudo supervisorctl status jerseyevents_django_q
#
# 6. View logs:
#    sudo supervisorctl tail -f jerseyevents_django_q
#    tail -f /Users/josegalan/Documents/jersey_music/logs/django_q.log
#
# 7. Control commands:
#    sudo supervisorctl restart jerseyevents_django_q
#    sudo supervisorctl stop jerseyevents_django_q
#    sudo supervisorctl start jerseyevents_django_q
